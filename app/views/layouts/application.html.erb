# encoding: utf-8
<!DOCTYPE html>
<html data-ng-app="LoungeChat" data-ng-csp>
	<head>
		<title>LoungeChat</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
		<%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
		<%= csrf_meta_tags %>
	</head>
	<body>
		<header class="topbar row">
			
			<h1>
				<img src="/assets/loungehackers-logo.png" height="50px"/>
			</h1>
		</header>
		<a href="https://github.com/StefanWallin/loungeChat/" target="_blank" data-bind="css: { hidden: !settingsDialogHidden() }">
			<img class="pr" src="assets/pullrequests_welcome.png" alt="Pullrequests Welcome!">
		</a>
		<% if current_user %>
			<menu class="settings">
				<span class="settings-handle" data-bind="click: toggleSettingsDialog, css: { active: !settingsDialogHidden()}">&#9881;</span>
				<ul class="settings-content hidden" data-bind="css: { hidden: settingsDialogHidden }">
					<li>
						<label for="flash_title_notif">
							Title flashing notification: <input id="flash_title_notif" class="setting" type="checkbox" data-bind="checked: setting_flashTitle">
						</label>
					</li>
					<li>
						<label for="audio_notif">
							Audio notifications: <input id="audio_notif" class="setting" type="checkbox" data-bind="checked: setting_audio_notif">
						</label>
						<audio src="/assets/click.wav" preload="auto" id="audio_notif_sound"></audio>
					</li>
					<li><a href="<%=signout_path%>" data-bind="click: close_chat">Sign Out</a></li>
				</ul>
			</menu>
		<% end %>
		<%= yield %>
		<%= javascript_include_tag "application", "data-turbolinks-track" => true %>
	</body>
</html>
